# Tubac Woodworks

Tubac Woodworks Inc, building custom cabinetry, entertainment center, bookcases, desks, and a variety of other wood products for home, office, or business.
 
*Collaborators:* 
 
*Diana, Chris, Matthew*
 
## About 
 
Full stack application.
This is the ( 1 of 2 ) README.md files. This file is to show the restrictions placed on the project and the expectations. The second README.md file is application information. 

## Index 
 
[Project *requirements ](#Project-*requirements) 
 
[Deliverables](#Deliverables) 

[MERN](#Mongo_db)

[Style](#Style)

[Animations](#Animations)
 
## Project *requirements 
 
  1. Something that can be used. (solves a problem)
 
  2. Research required. How your research affects your project.
 
  3. Track and put in the hours.
 
  4. Report issues in the issues tab of github
 
  5. project management system [Agile] Sprint and Scrum. Gant Chart in git.
 
  6. What documents were used. Frameworks, libraries, and stack.
 
  7. React.js, Node.js & Express, Mongo_db, CRUD/REST, Heroku, two external libraries ["GSAP", "SASS", "GTM / GA"], authentication for users (employees), Front-End UI, MVC, coding standards (scoping, naming, indentation.), API keys.
 
## Deliverables
 
Plan, Design, and Research

- Overview of 'why' the project is important.
- Design / sitemap and UI/UX needs. (mobile layout)
- Roles for Agile methodology
- Milestones via timeline.
- Github issue and project board.

---
 
 ## Coming soon...

 ## User Authentication
The owner of the site will be able to login with a set of credentials. Once logged in, that user will have access to additional UI elements that will allow them to replace portfolio pictures via the UI. People who visit the site that aren't logged in won't have this same access. User authentication will use a local strategy which involves storing credentials in a local MySQL database. The password field will be hashed and salted so that the value won't be stored in plain text.

### NPM packages used for authentication
* passport
* passport-local
* bcryptjs (for hashing and salting password)
* express-session (keeping track of user's authenticated session while browsing)
* mysql2 and sequelize (to interact with the MySQL database storing user credentials)


### Animations

To add an animation follow these steps:

1. In the root>client>public>public.js file

2. Under `Global Variables` set a new variable for your trigger. *this is needed to know if the element has already performed the animation or not.*

3. under the `parallax` section sub-section `GSAP Animations` you will see the following code.

```javascript
// 1: is this element on the screen?
if (document.getElementById("quote_1")) {
  // id="quote_1" is on the page somewhere.

  // 2: is the quoteInView trigger true or false. If it is false then we want to fire the animation. if it is true we want to ignore the result.
  if (elementInViewport(document.getElementById("quote_1")) && quoteInView === false){
    quoteInView = true;
    gsap.from("#quote_1", {duration: 2, opacity: 0, x: "-100%", ease: "power4"});

    // 3: if you are no longer in the view then we want to make sure that the animation trigger is reset to false.
  } else if (!elementInViewport(document.getElementById("quote_1")) && quoteInView === true){
    quoteInView = false;
  }
}
```

4. Create an `if` statment to discover if the element you are searching for is actually on the DOM at all. **note**: *if you are searching through the DOM for class names you are returned a data structure and not an Array and the structure must be converted into an Array to use it with this function.*

5. inside your `if` statment create a second condition `if` statment with two paramiters. 

```javascript
if (elementInViewport(el) && trigger === false){
  // this is where the animation will go.
}
```

6. Inside your statment be sure to set your `trigger` to true;

7. GSAP structure is as follows

```javascript
gsap.from("#id", {duration: 1, delay: 0});
gsap.to(".class", {duration: 2, delay: 1});

/* see GSAP documentation videos for more details. 
https://greensock.com/docs/
*/
```

8. be sure to close your `if` statment with a final statment that checks to see "on scroll" if the element is no longer in the viewport.

```javascript
} else if (!elementInViewport(el) && trigger === true){
  trigger = false;
};
```

9. debug

### Routes and Middleware
There is a middleware function applied to routes to validate if the user is logged in or not. If the user is not logged in, they will not be presented with the additional options to update photos.

### Mongo_DB 
I added this to test.

## Mongo_db

Will be converted the schema notes into mongoose models next:

Employees
* _id - ObjectId auto-generated by db
* username - String - Not Null - Unique - must be between 6 and 12 bytes, no special characters
* password - String - Not Null - (will be hashed value) 
* firstName - String - Not Null - At least 1 byte
* lastName - String - Not Null  - At least 1 byte
* role - String - Not Null - Choice of {Admin, User}
* createdAt - Date/Timestamp not null - from when entry is created
* updatedAt - Date/Timestamp not null - updated every time this document is updated 

```javascript
var EmployeeSchema = new Schema({

  username: {
    type: String,
    required: "String is Required",
    unique:true,
    minlength: [6, 'Username must be at least 6 characters.'],
    maxlength: [12, 'Username must be less than 12 characters.'],
    validate: [
      function(input) {
      // return RegEx code for special characters
      },
      "Your username must not contain special characters."
    ]
  },
  password: {
    type: String,
    required: "String is Required",
  },
  firstName: {
    type: String,
    required: "String is Required",
    minlength: [1, 'First name must be at least 1 character.']
  },
  lastName: {
    type: String,
    required: "String is Required",
    minlength: [1, 'Last name must be at least 1 character.']
  },
  role: {
    type: String,
    required: "String is Required",
    // choice: [
    //   "admin",
    //   "user"
    // ]
  },
  createdAt: {
    type: Date,
    default: Date.now,
  },
  updateAt: {
    type: Date,
    date: new Date(Date.now())
  }
}

```

Customers

* _id - Object Id auto-generated by db
* Title - string
* firstName - String - Not Null - At least 1 byte
* middleName - String
* lastName - String - Not Null - At least 1 byte
* Nickname - String
* Email - String - unique - Not Null - email validation
* phoneNumber - String - not null - all numbers
* numberType - String - not null - Choice of {mobile,landline,work}
* promoContactByEmail - boolean not null default false
* promoContactBySms - boolean not null default false
* apptContactByEmail - boolean not null default true
* apptContactBySms - boolean not null default false
* streetAddress - string
* City - string
* State - string 
* Zipcode
* Zip4
* leadType - string 
* leadSource - string
* createdAt - Date/Timestamp not null - from when entry is created
* updatedAt - Date/Timestamp not null - updated every time this document is updated 
	
```javascript
var CustomerSchema = new Schema({
  firstName: {
    type: String,
    required: "String is Required",
    minlength: [1, 'First name must be at least 1 character.']
  },
    middleName: {
    type: String,
  },
  lastName: {
    type: String,
    required: "String is Required",
    minlength: [1, 'Last name must be at least 1 character.']
  },
    nickName: {
    type: String,
  },
    email: {
    type: String,
    required: "Email is Required",
    unique:true,
    match: [/.+@.+\..+/, "Please enter a valid e-mail address"],
  },
  phoneNumber: {
    type: String,
    required: "Phone number is Required",
    match: [/^\b\d{3}[-.]?\d{3}[-.]?\d{4}\b$/, "Please enter a valid phone "],
  },
  numberType: {
    type: String,
    required: "Phone type is Required",
    // choice: [
  
    // ]
  },
  promoContactByEmail: {
    type: Boolean,
    required: "",
    default: false
  },
   promoContactBySMS: {
    type: Boolean,
    required: "",
    default: false
  },
   appContactByEmail: {
    type: Boolean,
    required: "",
    default: true
  },
   appContactBySMS: {
    type: Boolean,
    required: "",
    default: false
   },
   streetAddress: {
     type: String,
   },
   city: {
     type: String
   },
   state: {
     type: String
   },
    zipcode: {
     type: String
   },
    zip4: {
      type: String
   },
   leadType: {
     type: String
   },
   leadSource: {
     type: String
   },
    createdAt: {
    type: Date,
    default: Date.now,
  },
  updateAt: {
    type: Date,
    date: new Date(Date.now())
  }
}
```

Appointment (1 customer can have many appointments)
* _id - object id auto-generated by db
* CustomerId - foreign key (_id from customers table) - not null
* apptDate - date of appointment.- not null
* apptTime - time of appointment - not null
* assignedEmployee - id of employee going to appointment
* updatedBy - id of employee who made appt
* createdAt - Date/Timestamp not null - from when entry is created
* updatedAt - Date/Timestamp not null - updated every time this document is updated 
	
```javascript
var AppointmentSchema = new Schema({
}
```

Notes (1 customer can have many contact notes from multiple contact points)
* _id - object id auto-generated by db
* CustomerId - foreign key (_id from customers table) - not null
* noteDetail - String - not null - notes from contact point
* Date/timestamp of when contacted - not null
* updatedBy - id of employee who made notes - not null
* contactMethod - String - not null - choice of {email, sms, phone}
* createdAt - Date/Timestamp not null - from when entry is created
* updatedAt - Date/Timestamp not null - updated every time this document is updated 
	
```javascript
var NotesSchema = new Schema({
}
```

```json
{
  "key" : "value"
}
```

## Express
```javascript

```
## React.js
```javascript

```

## Node.js
```javascript

```

### SCSS & Pre Pros
```css

```

### Style

Break Points in HTML <head> tag.

Using [Pre Pros](#) We compile our SCSS into CSS and asign it to the public folder. 

```html
  <!-- CSS -->
  <link rel="stylesheet" href="/styles/styles.css" media="screen" title="no title" charset="utf-8">
  <link rel="stylesheet" type="text/css" media="screen and (max-width: 768px)" href="/styles/small.css"  title="no title" charset="utf-8" />
  <link rel="stylesheet" type="text/css" media="screen and (min-width: 769px)" href="/styles/medium.css"  title="no title" charset="utf-8" />
  <link rel="stylesheet" type="text/css" media="screen and (min-width: 1025px)" href="/styles/large.css"  title="no title" charset="utf-8" />
```

### Site Map
<img src="" alt="site map for the page." />

---


 [Back to top](#)
